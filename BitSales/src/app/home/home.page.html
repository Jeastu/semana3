<ion-header>
  <ion-toolbar class="encabezado-oscuro">
    <ion-title class="titulo-bitsales">BITSALES</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="mostrarMenu($event)">
        <ion-icon name="ellipsis-vertical-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ofertas-content">
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="6" size-lg="4" *ngFor="let juego of juegos">
        <ion-card>
          <img [src]="juego.imagen" alt="{{ juego.nombre }}" />
          <ion-card-header>
            <ion-card-title>{{ juego.nombre }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>{{ juego.oferta }}</p>
            <ion-button expand="block" fill="outline" color="primary" (click)="abrirEnlace(juego.link)">
              Ver en {{ juego.plataforma }}
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-button expand="block" fill="solid" color="tertiary" [routerLink]="['/noticias']">
  Ver Noticias Gamer ðŸ“°
</ion-button>



<!-- Popover del menÃº -->
<ion-popover [isOpen]="menuVisible" [event]="menuEvent" (didDismiss)="menuVisible = false">
  <ng-template>
    <ion-list>
      <ion-item lines="none">
        <ion-avatar slot="start">
          <img src="https://i.pravatar.cc/100" alt="avatar" />
        </ion-avatar>
        <ion-label>
          <h2>{{ usuario }}</h2>
          <p>Miembro desde 2025</p>
        </ion-label>
      </ion-item>

      <ion-item button (click)="irAlPerfil(); menuVisible = false">
        <ion-icon name="person-circle-outline" slot="start"></ion-icon>
        <ion-label>Ver perfil</ion-label>
      </ion-item>

      <ion-item button (click)="cerrarSesion(); menuVisible = false">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        <ion-label>Cerrar sesiÃ³n</ion-label>
      </ion-item>
    </ion-list>
  </ng-template>
</ion-popover>
